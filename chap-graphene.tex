\chapter{Graphene.js: Building Reusuable Web Components for Data Visualization}

\section{Purpose}

The purpose of this chapter is to introduce Graphene.js \autocite{gu2014graphene}, a framework for creating data-driven visualizations and user interfaces.
In addition, the Graphene.js approach to data visualization is contrasted to currently established JavaScript drawing libraries.
Graphene is the key component of the user interface for all other applications described in this body of work.

\section{Motivation}

Graphical representations of information are valuable for presenting complex information quickly and clearly. \autocite{newsom2007public, smiciklas2012power}
They can vastly improve comprehension by using graphics to enhance the human visual systemâ€™s ability to see patterns and trends. \autocite{heer2010tour, sears2007human}
Meanwhile, the Internet and World Wide Web \autocite{berners2000weaving} has become perhaps the most powerful medium for information sharing. \autocite{bollacker1998citeseer, wilkinson2003motivations, page1999pagerank}
Thus, with the advent of web apps, ushered in by HTML5, the web is indeed of graphical libraries that 

\subsection{Systems biology software packages are built using web technologies is almost nonexistent}
Of the 262 listed software packages in the SBML Software Guide \autocite{sbml2014software}, only 61 contain any type of web based features and only 1 uses can be considered a HTML5 web application.
\subsection{Systems biology software is complex and building complex web applications is difficult}
JQuery vs Angular
\subsection{Existing drawing libraries are not suited for complex and customizable visualizations}
A key component of a graphical computational systems biology software
Good web design is also important.
Better web designs increase user engagement and likelihood of revisiting. \autocite{rosen2004website}
Flexible graphics libraries are allow for custom tailoring of design.

Raphael.js \autocite{sencha2014raphael}

Cytoscape Web \autocite{cytoscape2014web}

Cytoscape.js \autocite{cytoscape2014js} is a graph drawing library and a potential choice for network visualization. It contains an impressive HTML5 Canvas based rendering engine, but currently lacks the ability to customize the following:

\begin{itemize}
\item Color gradients for nodes
\item Marker ends and node shapes beyond a predefined set
\item Control points for Bezier curves
\item Placement of edge start and end points
\end{itemize}

Furthermore, since Cytoscape.js produces a canvas drawing and not DOM elements, the graph elements are unable to be used with other JavaScript libraries (for example a popover plugin that acts on each node) nor bound to custom events.

\section{Solution}

\subsection{Graphene.js allows for easily customizable and reusuable web diagrams}
Graphene.js addresses these issues by using a different approach. 
Graphene creates interactive diagrams through two-way-binding of user provided data objects to a customizable SVG template.
Thus, no custom rendering engine is required as it is performed by the browser, and the rich SVG vocabulary (which may be created through a text editor or through a graphical SVG drawing program) may be used to define nearly any type of edge, arrow marker, or Bezier curve.
Graphene templates may also be customized for visualizations beyond node-edge graphs, such as charts and animations.

\subsection{Declarative vs. Imperative: Data-binding over DOM manipulation}

\begin{lstlisting}[language=JavaScript]
$.ajax({
  url: '/myEndpoint.json',
  success: function ( data, status ) {
    $('ul#log').append('<li>Data Received!</li>');
  }
});
\end{lstlisting}

\begin{lstlisting}[language=html]
<ul class="messages" id="log">
</ul>
\end{lstlisting}

\begin{lstlisting}[language=JavaScript]
$http( '/myEndpoint.json' ).then( function ( response ) {
  $scope.log.push( { msg: 'Data Received!' } );
});
\end{lstlisting}

\begin{lstlisting}[language=html]
<ul class="messages">
  <li ng-repeat="entry in log">{{ entry.msg }}</li>
</ul>
\end{lstlisting}

\begin{lstlisting}[language=html]
<div class="messages">
  <div class="alert" ng-repeat="entry in log">
    {{ entry.msg }}
  </div>
</div>
\end{lstlisting}

\section{Implementation}
\subsection{Angular.js is used for data-binding}
\subsection{D3.js is used for SVG manipulation}
\subsection{Yeoman build chain allows for easy integration}

\section{Summary}
